<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Entity Framework - Code First CRUD Exercise (3 Marks) | DMIT-2018 Student Notes</title>
    <meta name="description" content="Intermediate Application Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.30d154a3.css" as="style"><link rel="preload" href="/assets/js/app.4270567e.js" as="script"><link rel="preload" href="/assets/js/2.0e476e64.js" as="script"><link rel="preload" href="/assets/js/27.2ec05bf4.js" as="script"><link rel="preload" href="/assets/js/30.3f72bb47.js" as="script"><link rel="prefetch" href="/assets/js/10.8cf6e162.js"><link rel="prefetch" href="/assets/js/11.c9f91621.js"><link rel="prefetch" href="/assets/js/12.5db3f79d.js"><link rel="prefetch" href="/assets/js/13.888f6f8f.js"><link rel="prefetch" href="/assets/js/14.81902be6.js"><link rel="prefetch" href="/assets/js/15.c4e65dd4.js"><link rel="prefetch" href="/assets/js/16.0ea9038f.js"><link rel="prefetch" href="/assets/js/17.7dbfd59f.js"><link rel="prefetch" href="/assets/js/18.7e0603fd.js"><link rel="prefetch" href="/assets/js/19.521064d9.js"><link rel="prefetch" href="/assets/js/20.6e2e7f65.js"><link rel="prefetch" href="/assets/js/21.1b2a0a76.js"><link rel="prefetch" href="/assets/js/22.3c29e8e5.js"><link rel="prefetch" href="/assets/js/23.a45edc16.js"><link rel="prefetch" href="/assets/js/24.b557aa98.js"><link rel="prefetch" href="/assets/js/25.59220c74.js"><link rel="prefetch" href="/assets/js/26.51aba659.js"><link rel="prefetch" href="/assets/js/28.106472f6.js"><link rel="prefetch" href="/assets/js/29.735a0f80.js"><link rel="prefetch" href="/assets/js/3.d61eb7ee.js"><link rel="prefetch" href="/assets/js/31.7c961e50.js"><link rel="prefetch" href="/assets/js/32.0d331615.js"><link rel="prefetch" href="/assets/js/33.e8e031d9.js"><link rel="prefetch" href="/assets/js/34.abe25ef8.js"><link rel="prefetch" href="/assets/js/35.0da58e74.js"><link rel="prefetch" href="/assets/js/36.ed19e1ff.js"><link rel="prefetch" href="/assets/js/37.096a79c6.js"><link rel="prefetch" href="/assets/js/38.64daeab0.js"><link rel="prefetch" href="/assets/js/39.01b50eaa.js"><link rel="prefetch" href="/assets/js/4.f701e21b.js"><link rel="prefetch" href="/assets/js/40.28891e28.js"><link rel="prefetch" href="/assets/js/41.4cf6a103.js"><link rel="prefetch" href="/assets/js/42.b80810c4.js"><link rel="prefetch" href="/assets/js/43.8a0d2de2.js"><link rel="prefetch" href="/assets/js/44.53457846.js"><link rel="prefetch" href="/assets/js/45.fc8ca093.js"><link rel="prefetch" href="/assets/js/46.a381ffb7.js"><link rel="prefetch" href="/assets/js/47.e9f9724e.js"><link rel="prefetch" href="/assets/js/48.4dfcd211.js"><link rel="prefetch" href="/assets/js/49.edba42a8.js"><link rel="prefetch" href="/assets/js/5.7250ae15.js"><link rel="prefetch" href="/assets/js/50.afed5855.js"><link rel="prefetch" href="/assets/js/51.09e9d6fc.js"><link rel="prefetch" href="/assets/js/52.9fcc1c56.js"><link rel="prefetch" href="/assets/js/53.c89595bd.js"><link rel="prefetch" href="/assets/js/54.fe38ad33.js"><link rel="prefetch" href="/assets/js/55.7e5bed83.js"><link rel="prefetch" href="/assets/js/56.c6ea8817.js"><link rel="prefetch" href="/assets/js/57.6a4dc085.js"><link rel="prefetch" href="/assets/js/58.fdaf1e65.js"><link rel="prefetch" href="/assets/js/59.fe7a4dcd.js"><link rel="prefetch" href="/assets/js/6.e46ce379.js"><link rel="prefetch" href="/assets/js/60.64a7c8ae.js"><link rel="prefetch" href="/assets/js/61.08c30ee6.js"><link rel="prefetch" href="/assets/js/62.202d3373.js"><link rel="prefetch" href="/assets/js/63.83a9d57d.js"><link rel="prefetch" href="/assets/js/64.f4f31b19.js"><link rel="prefetch" href="/assets/js/65.79aa3c59.js"><link rel="prefetch" href="/assets/js/66.a002ece4.js"><link rel="prefetch" href="/assets/js/67.3117793b.js"><link rel="prefetch" href="/assets/js/68.02bbd148.js"><link rel="prefetch" href="/assets/js/69.fca83d69.js"><link rel="prefetch" href="/assets/js/7.6150565a.js"><link rel="prefetch" href="/assets/js/70.66f453df.js"><link rel="prefetch" href="/assets/js/71.5e1d7fa4.js"><link rel="prefetch" href="/assets/js/72.826643cb.js"><link rel="prefetch" href="/assets/js/73.aef4db68.js"><link rel="prefetch" href="/assets/js/74.8e7eef9a.js"><link rel="prefetch" href="/assets/js/75.6e29be33.js"><link rel="prefetch" href="/assets/js/76.4a5439d6.js"><link rel="prefetch" href="/assets/js/77.c0722deb.js"><link rel="prefetch" href="/assets/js/78.8293f072.js"><link rel="prefetch" href="/assets/js/79.b8799db9.js"><link rel="prefetch" href="/assets/js/8.725b1e99.js"><link rel="prefetch" href="/assets/js/80.26f802f1.js"><link rel="prefetch" href="/assets/js/81.58821e80.js"><link rel="prefetch" href="/assets/js/82.e355af21.js"><link rel="prefetch" href="/assets/js/83.2e386f1c.js"><link rel="prefetch" href="/assets/js/84.a30a01d9.js"><link rel="prefetch" href="/assets/js/85.06dbaa07.js"><link rel="prefetch" href="/assets/js/86.9df11410.js"><link rel="prefetch" href="/assets/js/87.e15a07b6.js"><link rel="prefetch" href="/assets/js/88.79b35c5b.js"><link rel="prefetch" href="/assets/js/89.e2d13c5c.js"><link rel="prefetch" href="/assets/js/9.81f13e45.js"><link rel="prefetch" href="/assets/js/90.56067cf4.js"><link rel="prefetch" href="/assets/js/91.5d98d066.js"><link rel="prefetch" href="/assets/js/92.89718e3e.js"><link rel="prefetch" href="/assets/js/93.a167acb8.js"><link rel="prefetch" href="/assets/js/94.00c77685.js"><link rel="prefetch" href="/assets/js/95.e50ecd13.js"><link rel="prefetch" href="/assets/js/96.30e38eb5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30d154a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DMIT-2018 Student Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/exercises/" class="nav-link router-link-active">Take Home</a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/DMIT-2018.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/exercises/" class="nav-link router-link-active">Take Home</a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/DMIT-2018.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/exercises/" class="sidebar-link">Take Home Exercises</a></li><li><a href="/exercises/WorkSchedule/EntityFramework/" class="active sidebar-link">Entity Framework - Code First CRUD Exercise (3 Marks)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/exercises/WorkSchedule/EntityFramework/#setup" class="sidebar-link">Setup</a></li><li class="sidebar-sub-header"><a href="/exercises/WorkSchedule/EntityFramework/#bll" class="sidebar-link">BLL</a></li><li class="sidebar-sub-header"><a href="/exercises/WorkSchedule/EntityFramework/#web-forms" class="sidebar-link">Web Forms</a></li></ul></li><li><a href="/exercises/WorkSchedule/Linq/" class="sidebar-link">LINQ and LinqPad Exercise (3 Marks)</a></li><li><a href="/exercises/WorkSchedule/Integrated/" class="sidebar-link">Contract Editor</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="entity-framework-code-first-crud-exercise-3-marks"><a href="#entity-framework-code-first-crud-exercise-3-marks" class="header-anchor">#</a> Entity Framework - Code First CRUD Exercise (3 Marks)</h1> <blockquote><p>Your solution to this exercise must be demonstrated to your instructor <strong>in class</strong>.</p></blockquote> <blockquote><p>Be aware that this is the first exercise in a series of cumulative exercises - you must be prepared to complete each exercise in light of the possibility that any given exercise may depend on the <strong>correct</strong> implementation of previous exercises. Place this work in your private Exercise repository.</p></blockquote> <h2 id="setup"><a href="#setup" class="header-anchor">#</a> Setup</h2> <p>Create a new VS Solution called <strong>WorkScheduleSolution</strong> with a Web Forms application project and appropriate class library project(s); be sure to use the .Net Framework versions of these project types. In the &quot;Entities&quot; folder of your class library, generate the entity and context classes using Code-First from Database. Name your context class <strong>WorkScheduleContext</strong>. After the classes are generated, make the following adjustments:</p> <ul><li>Modify the error messages for validation attributes on the properties of the <strong>EmployeeSkill</strong> class.</li> <li>Add a <code>[NotMapped]</code> property on the <strong>Employee</strong> class for the formal name of the employee (&quot;<em>LastName, FirstName</em>&quot;).</li> <li>Change the namespace and location of the <strong>WorkScheduleContext</strong> class to the DAL folder and set the class to be an <code>internal</code> class.</li> <li>Ensure that the DbContext class does not generate a database if the connection string points to the wrong location.</li></ul> <p><img src="/assets/img/work_schedule_erd.05622aae.png" alt="Schedule ERD"></p> <h2 id="bll"><a href="#bll" class="header-anchor">#</a> BLL</h2> <p>Create a controller class in your BLL that supports the following.</p> <ul><li>All CRUD behaviours for the <strong>EmployeeSkill</strong> entity.</li> <li>List all employees.</li> <li>List all employees by skill (accept an integer for the <code>SkillID</code>).</li></ul> <p>These methods must have appropriate <code>[DataObjectMethod()]</code> attributes so as to support <code>&lt;asp:ObjectDataSource&gt;</code> access by the web forms.</p> <h2 id="web-forms"><a href="#web-forms" class="header-anchor">#</a> Web Forms</h2> <p>For each of the forms in this exercise, ensure you have a link in the navigational menu to each page.</p> <h3 id="employees-by-skill"><a href="#employees-by-skill" class="header-anchor">#</a> Employees by Skill</h3> <p>Create a web page to display the employees who have a specified skill. Use <code>&lt;asp:ObjectDataSource&gt;</code> controls to handle interaction with the BLL. Skills are to be displayed in a drop down list. Display the employee data in a customized data control which obtains its input parameter value from the drop down list. Your display requires appropriate page title, labels and layout. You will need a button on your page to force a post back.</p> <p><img src="/assets/img/EntityFrameworkQuery.97dbc8be.png" alt="Sample query result"></p> <h3 id="manage-employee-skills"><a href="#manage-employee-skills" class="header-anchor">#</a> Manage Employee Skills</h3> <p>Create a web page that will maintain the EmployeSkill entity. You will be requried to insert, update and delete records for this entity. The Employee and Skill data displayed to the user must be human readable (don't display the IDs of the Employee and Skill information). Use <code>&lt;asp:ObjectDataSource&gt;</code> controls to handle interaction with the BLL.</p> <p><img src="/assets/img/EntityFrameworkCRUD.f7d51068.png" alt="ListView CRUD"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/16/2020, 6:13:00 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/exercises/" class="prev router-link-active">Take Home Exercises</a></span> <span class="next"><a href="/exercises/WorkSchedule/Linq/">LINQ and LinqPad Exercise (3 Marks)</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.4270567e.js" defer></script><script src="/assets/js/2.0e476e64.js" defer></script><script src="/assets/js/27.2ec05bf4.js" defer></script><script src="/assets/js/30.3f72bb47.js" defer></script>
  </body>
</html>
