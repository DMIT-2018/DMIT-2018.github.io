<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Entity Framework Code First | DMIT-2018 Student Notes</title>
    <meta name="description" content="Intermediate Application Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.912ec5d4.css" as="style"><link rel="preload" href="/assets/js/app.baefb16f.js" as="script"><link rel="preload" href="/assets/js/36.f9d2b2d8.js" as="script"><link rel="prefetch" href="/assets/js/1.4037ccf8.js"><link rel="prefetch" href="/assets/js/2.9bb2b853.js"><link rel="prefetch" href="/assets/js/3.07b50e15.js"><link rel="prefetch" href="/assets/js/4.e9aa1d15.js"><link rel="prefetch" href="/assets/js/5.c8bef2a4.js"><link rel="prefetch" href="/assets/js/6.348a5c05.js"><link rel="prefetch" href="/assets/js/7.16dadbb4.js"><link rel="prefetch" href="/assets/js/8.9b1a883c.js"><link rel="prefetch" href="/assets/js/9.89ead73c.js"><link rel="prefetch" href="/assets/js/10.c13a0153.js"><link rel="prefetch" href="/assets/js/11.88805ebb.js"><link rel="prefetch" href="/assets/js/12.73173c9d.js"><link rel="prefetch" href="/assets/js/13.72cdd9de.js"><link rel="prefetch" href="/assets/js/14.53fa892f.js"><link rel="prefetch" href="/assets/js/15.f8948783.js"><link rel="prefetch" href="/assets/js/16.452f8a8d.js"><link rel="prefetch" href="/assets/js/17.4a099c0c.js"><link rel="prefetch" href="/assets/js/18.abde29df.js"><link rel="prefetch" href="/assets/js/19.a21714c2.js"><link rel="prefetch" href="/assets/js/20.dcb27f2b.js"><link rel="prefetch" href="/assets/js/21.78092f61.js"><link rel="prefetch" href="/assets/js/22.13d4a2e3.js"><link rel="prefetch" href="/assets/js/23.6131251d.js"><link rel="prefetch" href="/assets/js/24.c1bada5a.js"><link rel="prefetch" href="/assets/js/25.28d67d6d.js"><link rel="prefetch" href="/assets/js/26.c630cab0.js"><link rel="prefetch" href="/assets/js/27.a0275a1f.js"><link rel="prefetch" href="/assets/js/28.38a7bc8b.js"><link rel="prefetch" href="/assets/js/29.e5604467.js"><link rel="prefetch" href="/assets/js/30.b13b10a2.js"><link rel="prefetch" href="/assets/js/31.b93fbde4.js"><link rel="prefetch" href="/assets/js/32.7439fa34.js"><link rel="prefetch" href="/assets/js/33.5b4f7569.js"><link rel="prefetch" href="/assets/js/34.5c950f18.js"><link rel="prefetch" href="/assets/js/35.205ec25c.js"><link rel="prefetch" href="/assets/js/37.607240a2.js"><link rel="prefetch" href="/assets/js/38.cd354db5.js"><link rel="prefetch" href="/assets/js/39.c79c3f2b.js"><link rel="prefetch" href="/assets/js/40.5c50d587.js"><link rel="prefetch" href="/assets/js/41.e8da87d1.js"><link rel="prefetch" href="/assets/js/42.53abd14c.js"><link rel="prefetch" href="/assets/js/43.2bfccf8b.js"><link rel="prefetch" href="/assets/js/44.256f20a9.js"><link rel="prefetch" href="/assets/js/45.046060f0.js"><link rel="prefetch" href="/assets/js/46.41478319.js"><link rel="prefetch" href="/assets/js/47.0fb1ab9a.js"><link rel="prefetch" href="/assets/js/48.eea5db49.js"><link rel="prefetch" href="/assets/js/49.0137d27b.js"><link rel="prefetch" href="/assets/js/50.7c1751fe.js"><link rel="prefetch" href="/assets/js/51.ef65524b.js"><link rel="prefetch" href="/assets/js/52.378604af.js"><link rel="prefetch" href="/assets/js/53.3820eaa9.js"><link rel="prefetch" href="/assets/js/54.70d4aeeb.js"><link rel="prefetch" href="/assets/js/55.f9cacc3a.js"><link rel="prefetch" href="/assets/js/56.0fc0a19c.js"><link rel="prefetch" href="/assets/js/57.ebfb5aec.js"><link rel="prefetch" href="/assets/js/58.e3d33a0c.js"><link rel="prefetch" href="/assets/js/59.4d5b9bbc.js"><link rel="prefetch" href="/assets/js/60.513d408e.js"><link rel="prefetch" href="/assets/js/61.f5e078b4.js"><link rel="prefetch" href="/assets/js/62.15457f34.js"><link rel="prefetch" href="/assets/js/63.1f1f155f.js"><link rel="prefetch" href="/assets/js/64.27d6719a.js"><link rel="prefetch" href="/assets/js/65.feb2db61.js"><link rel="prefetch" href="/assets/js/66.24667d3b.js"><link rel="prefetch" href="/assets/js/67.88417ef2.js"><link rel="prefetch" href="/assets/js/68.64cd3bce.js"><link rel="prefetch" href="/assets/js/69.453ac1d5.js"><link rel="prefetch" href="/assets/js/70.4efd5f70.js"><link rel="prefetch" href="/assets/js/71.65ae3dd0.js"><link rel="prefetch" href="/assets/js/72.eded1e00.js"><link rel="prefetch" href="/assets/js/73.a044f661.js"><link rel="prefetch" href="/assets/js/74.82bfc3c8.js"><link rel="prefetch" href="/assets/js/75.e52a8154.js"><link rel="prefetch" href="/assets/js/76.68ba8eac.js"><link rel="prefetch" href="/assets/js/77.94e252cf.js"><link rel="prefetch" href="/assets/js/78.0d907db6.js"><link rel="prefetch" href="/assets/js/79.25fadaa4.js"><link rel="prefetch" href="/assets/js/80.7592f6cf.js"><link rel="prefetch" href="/assets/js/81.b24d9371.js"><link rel="prefetch" href="/assets/js/82.74f4393a.js"><link rel="prefetch" href="/assets/js/83.5c1fba71.js"><link rel="prefetch" href="/assets/js/84.f8f958b2.js"><link rel="prefetch" href="/assets/js/85.a35f50f6.js"><link rel="prefetch" href="/assets/js/86.e411ad2b.js"><link rel="prefetch" href="/assets/js/87.b508658d.js"><link rel="prefetch" href="/assets/js/88.ac685d7a.js"><link rel="prefetch" href="/assets/js/89.8503e662.js">
    <link rel="stylesheet" href="/assets/css/0.styles.912ec5d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DMIT-2018 Student Notes</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/exercises/" class="nav-link router-link-active">Take Home</a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/StudentNotes/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/exercises/" class="nav-link router-link-active">Take Home</a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/StudentNotes/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/exercises/" class="sidebar-link">Take Home Exercises</a></li><li><a href="/exercises/dvcs.html" class="sidebar-link">GitHub Desktop</a></li><li><a href="/exercises/ef.html" class="active sidebar-link">Entity Framework Code First</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/exercises/ef.html#private-github-repo-only" class="sidebar-link">Private GitHub Repo Only</a></li></ul></li><li><a href="/exercises/linq.html" class="sidebar-link">LINQ and LinqPad</a></li><li><a href="/exercises/oltp.html" class="sidebar-link">Online Transaction Processing</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="entity-framework-code-first-crud-exercise-4-marks"><a href="#entity-framework-code-first-crud-exercise-4-marks" aria-hidden="true" class="header-anchor">#</a> Entity Framework - Code First CRUD Exercise (4 Marks)</h1> <h2 id="private-github-repo-only"><a href="#private-github-repo-only" aria-hidden="true" class="header-anchor">#</a> Private GitHub Repo Only</h2> <p>Be aware that this is the first exercise in a series of cumulative exercises - you must be prepared to complete each exercise in light of the possibility that any given exercise may depend on the <strong>correct</strong> implementation of previous exercises. Place this work in your classroom private Exercise repository.</p> <h4 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h4> <p>Create a new VS Solution called GroceryListSolution. Place two class projects into this solution called GroceryListSystem and GroceryList.Data, along with a web application called WebApp. GroceryList.Data will have 3 folder called Entities, DTOs and POCOs. GroceryListSystem will have 2 folders DAL and BLL. Add the NuGet package, EntityFramework, to your class libraries. Add references to your solution where needed/appropriate.</p> <h4 id="entities"><a href="#entities" aria-hidden="true" class="header-anchor">#</a> Entities</h4> <p>Create Entity classes using <strong>reverse engineering</strong>. Create the entity classes in the Entity folder. Name the context class GroceryListContext. Use GroceryListDB as the connection string name. <code>[Required]</code>, and <code>[StringLength]</code> notations in your entities will not have error messages. You must place an ErrorMessage parameter within each notation such as that the message will be specific to the entity attribute.</p> <p>Add the following not mapping properties:</p> <ul><li>Customer: FullName: returns the customer full name as LastName, Firstname</li> <li>Customer: CityCustomer: returns the city and customer full name as City: LastName, Firstname</li> <li>Picker: FullName: returns the picker full name as LastName, Firstname</li> <li>Product: DescriptionUnitSize: returns the description and unitsize as Description (UnitSize)</li> <li>Store: CityLocation: returns the city and location as City:Location</li></ul> <p><img src="/assets/img/grocerylist_erd.ea5a3de4.png" alt="GroceryList ERD"></p> <h4 id="context-class"><a href="#context-class" aria-hidden="true" class="header-anchor">#</a> Context Class</h4> <p>Move the <strong>Context class</strong> to the DAL folder from the Entities folder; alter the namespace to GroceryListSystem.DAL; and include any necessary using statements. Remove the Context class from the entity folder. Create an appropriate web connection string file pointing to the database GroceryList. Add the <code>&lt;context&gt;</code> tag in the web.config file under the <code>&lt;entityframe&gt;</code> tag. The context class is to be restricted to internal project access only.</p> <h4 id="bll-controller-classes"><a href="#bll-controller-classes" aria-hidden="true" class="header-anchor">#</a> BLL Controller Classes</h4> <p>Create <strong>BLL controller classes</strong> for the two entities: Category and Product. The classes will allow ODS access to methods. Both classses will have an appropriate List() and Get(int keyvalue) methods (exposed). The ProductController will have a method which will recieve an integer parameter representing a category and return all products within that category. The ProductController will implement Add(Product), Update(Product), Delete(Product) and Delete(int productid) methods. The overloaded Delete(int productid) will do the actual delete of the product record of the database.</p> <h4 id="web-page-query"><a href="#web-page-query" aria-hidden="true" class="header-anchor">#</a> Web Page: Query</h4> <p>Create a web page that will display the product data related to a supplied category. Use <strong>only ODS wired controls</strong> to handle the data. Categories should be displayed in a ordered drop down list. Display the ordered product data in a customized data control which obtains its input parameter value from the drop down list. Your display requires appropriate page title, labels and layout/formatting. You will need a button on your page to force a post back. This page <strong>must</strong> be accessiable by the site master menu.</p> <p><img src="/assets/img/ExerciseQuery.fb921801.png" alt="Sample query result"></p> <h4 id="web-page-crud"><a href="#web-page-crud" aria-hidden="true" class="header-anchor">#</a> Web Page: CRUD</h4> <p>Create a web page that will maintain the Product entity. You will be requried to insert, update or delete records to this entity. The Category data will be handled via an appropriate dropdownlist. <strong>Use a ODS wired ListView control</strong> to maintain the data. Appropriate formatting is required on the display lines. This page <strong>must</strong> be accessiable by the site master menu.</p> <p><img src="/assets/img/ExerciseCRUD.547d5098.png" alt="ListView CRUD"></p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/1/2018, 12:41:49 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/exercises/dvcs.html" class="prev">
          GitHub Desktop
        </a></span> <span class="next"><a href="/exercises/linq.html">
          LINQ and LinqPad
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/36.f9d2b2d8.js" defer></script><script src="/assets/js/app.baefb16f.js" defer></script>
  </body>
</html>
