<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Occupied Tables | DMIT-2018 Student Notes</title>
    <meta name="description" content="Intermediate Application Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.30d154a3.css" as="style"><link rel="preload" href="/assets/js/app.e5b4b78b.js" as="script"><link rel="preload" href="/assets/js/2.c12f21cf.js" as="script"><link rel="preload" href="/assets/js/64.5b338836.js" as="script"><link rel="preload" href="/assets/js/30.6955286a.js" as="script"><link rel="prefetch" href="/assets/js/10.a031cb34.js"><link rel="prefetch" href="/assets/js/11.0f3182cb.js"><link rel="prefetch" href="/assets/js/12.03cbb7ab.js"><link rel="prefetch" href="/assets/js/13.c53d87fc.js"><link rel="prefetch" href="/assets/js/14.371e6939.js"><link rel="prefetch" href="/assets/js/15.2687e6dd.js"><link rel="prefetch" href="/assets/js/16.f51e571e.js"><link rel="prefetch" href="/assets/js/17.3aa248c7.js"><link rel="prefetch" href="/assets/js/18.10c930df.js"><link rel="prefetch" href="/assets/js/19.02050936.js"><link rel="prefetch" href="/assets/js/20.73109232.js"><link rel="prefetch" href="/assets/js/21.c33e265c.js"><link rel="prefetch" href="/assets/js/22.4b7ba10c.js"><link rel="prefetch" href="/assets/js/23.b352d5a8.js"><link rel="prefetch" href="/assets/js/24.eb5de59e.js"><link rel="prefetch" href="/assets/js/25.bdb71f7f.js"><link rel="prefetch" href="/assets/js/26.8ba463d5.js"><link rel="prefetch" href="/assets/js/27.93c0e38a.js"><link rel="prefetch" href="/assets/js/28.84f8b8f7.js"><link rel="prefetch" href="/assets/js/29.e679cc45.js"><link rel="prefetch" href="/assets/js/3.41f06792.js"><link rel="prefetch" href="/assets/js/31.e1757e47.js"><link rel="prefetch" href="/assets/js/32.24b500ca.js"><link rel="prefetch" href="/assets/js/33.ab94a6ba.js"><link rel="prefetch" href="/assets/js/34.6d6bf95d.js"><link rel="prefetch" href="/assets/js/35.a49e6dca.js"><link rel="prefetch" href="/assets/js/36.4a8e1a34.js"><link rel="prefetch" href="/assets/js/37.c3b49be6.js"><link rel="prefetch" href="/assets/js/38.ad05f205.js"><link rel="prefetch" href="/assets/js/39.750eea52.js"><link rel="prefetch" href="/assets/js/4.4dbd7af9.js"><link rel="prefetch" href="/assets/js/40.15924321.js"><link rel="prefetch" href="/assets/js/41.ba8c0096.js"><link rel="prefetch" href="/assets/js/42.71d94bf5.js"><link rel="prefetch" href="/assets/js/43.ac281642.js"><link rel="prefetch" href="/assets/js/44.bff743d3.js"><link rel="prefetch" href="/assets/js/45.ebabb807.js"><link rel="prefetch" href="/assets/js/46.6796a8a4.js"><link rel="prefetch" href="/assets/js/47.990d979f.js"><link rel="prefetch" href="/assets/js/48.4d636b50.js"><link rel="prefetch" href="/assets/js/49.e88726e2.js"><link rel="prefetch" href="/assets/js/5.95d8297a.js"><link rel="prefetch" href="/assets/js/50.f787b633.js"><link rel="prefetch" href="/assets/js/51.379e6937.js"><link rel="prefetch" href="/assets/js/52.9d9ee7b4.js"><link rel="prefetch" href="/assets/js/53.6b86d40a.js"><link rel="prefetch" href="/assets/js/54.90ef4358.js"><link rel="prefetch" href="/assets/js/55.4e702855.js"><link rel="prefetch" href="/assets/js/56.53354fc0.js"><link rel="prefetch" href="/assets/js/57.20ac69cc.js"><link rel="prefetch" href="/assets/js/58.af21a52f.js"><link rel="prefetch" href="/assets/js/59.ab0626bc.js"><link rel="prefetch" href="/assets/js/6.ff340999.js"><link rel="prefetch" href="/assets/js/60.04d28701.js"><link rel="prefetch" href="/assets/js/61.ee8e0b96.js"><link rel="prefetch" href="/assets/js/62.07bcfe14.js"><link rel="prefetch" href="/assets/js/63.e9e41a4f.js"><link rel="prefetch" href="/assets/js/65.c0073833.js"><link rel="prefetch" href="/assets/js/66.ceb50e85.js"><link rel="prefetch" href="/assets/js/67.5b2e4c30.js"><link rel="prefetch" href="/assets/js/68.4b99b15f.js"><link rel="prefetch" href="/assets/js/69.1305c118.js"><link rel="prefetch" href="/assets/js/7.0a301f76.js"><link rel="prefetch" href="/assets/js/70.e70f4f26.js"><link rel="prefetch" href="/assets/js/71.2314f7f6.js"><link rel="prefetch" href="/assets/js/72.b48451cb.js"><link rel="prefetch" href="/assets/js/73.e756aa97.js"><link rel="prefetch" href="/assets/js/74.fdeeb340.js"><link rel="prefetch" href="/assets/js/75.30c42a04.js"><link rel="prefetch" href="/assets/js/76.ea6b49b1.js"><link rel="prefetch" href="/assets/js/77.ecaf53dc.js"><link rel="prefetch" href="/assets/js/78.db621e99.js"><link rel="prefetch" href="/assets/js/79.d807334d.js"><link rel="prefetch" href="/assets/js/8.7c50e178.js"><link rel="prefetch" href="/assets/js/80.b8010623.js"><link rel="prefetch" href="/assets/js/81.ab0b7b2c.js"><link rel="prefetch" href="/assets/js/82.0e2bb75d.js"><link rel="prefetch" href="/assets/js/83.0389ab5a.js"><link rel="prefetch" href="/assets/js/84.ebf43acf.js"><link rel="prefetch" href="/assets/js/85.4fdc567d.js"><link rel="prefetch" href="/assets/js/86.009a5d22.js"><link rel="prefetch" href="/assets/js/87.c3dd37e4.js"><link rel="prefetch" href="/assets/js/88.4dc7d711.js"><link rel="prefetch" href="/assets/js/89.ac642a75.js"><link rel="prefetch" href="/assets/js/9.fac7c971.js"><link rel="prefetch" href="/assets/js/90.aed762f7.js"><link rel="prefetch" href="/assets/js/91.aac20ea9.js"><link rel="prefetch" href="/assets/js/92.8dfa7ce3.js"><link rel="prefetch" href="/assets/js/93.0ca6672f.js"><link rel="prefetch" href="/assets/js/94.3166ced8.js"><link rel="prefetch" href="/assets/js/95.fb24fae5.js"><link rel="prefetch" href="/assets/js/96.7e78d553.js"><link rel="prefetch" href="/assets/js/97.d4c5de8a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30d154a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DMIT-2018 Student Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link router-link-active">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/DMIT-2018.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/topics/" class="nav-link">Notes</a></div><div class="nav-item"><a href="/demos/" class="nav-link router-link-active">Demos</a></div><div class="nav-item"><a href="https://dmit-2018.github.io/about/slides-installing-sql-server.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MS SQL 2017
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/DMIT-2018/DMIT-2018.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/demos/eRestaurant/" class="sidebar-link">eRestaurant Demo</a></li><li><a href="/demos/eRestaurant/about/" class="sidebar-link">eRestaurant Background Story</a></li><li><a href="/demos/eRestaurant/dvcs/demo.html" class="sidebar-link">DVCS Demo</a></li><li><a href="/demos/eRestaurant/sitemaps/demo2.html" class="sidebar-link">Adding a Web.sitemap</a></li><li><a href="/demos/eRestaurant/linq/" class="sidebar-link">LINQ - Query and Method Syntax</a></li><li><a href="/demos/eRestaurant/linq/extensions.html" class="sidebar-link">LINQ - More Method Syntax</a></li><li><a href="/demos/eRestaurant/linq/practice.html" class="sidebar-link">Practice Linq</a></li><li><a href="/demos/eRestaurant/entityFramework/demo/demo.html" class="sidebar-link">Entity Framework Demo</a></li><li><a href="/demos/eRestaurant/entityFramework/practice/practice.html" class="sidebar-link">eRestuarant Practice</a></li><li><a href="/demos/eRestaurant/entityFramework/practice/practice-solution.html" class="sidebar-link">eRestuarant Practice - Solution</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/adminController.html" class="sidebar-link">Special Events - BLL</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/adminSpecialEvents.html" class="sidebar-link">Special Events - PL</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/menu.html" class="active sidebar-link">Occupied Tables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/demos/eRestaurant/aspNet/frontDesk/menu.html#sample-demo" class="sidebar-link">Sample/Demo</a></li></ul></li><li><a href="/demos/eRestaurant/reports/reportViewer/" class="sidebar-link">eRestaurant - Reporting Basics</a></li><li><a href="/demos/eRestaurant/reports/customizing/" class="sidebar-link">Customizing your Report</a></li><li><a href="/demos/eRestaurant/aspNet/userControls/messageUserControl.html" class="sidebar-link">MessageUserControl</a></li><li><a href="/demos/eRestaurant/testing/manual.html" class="sidebar-link">Faking a Point In Time</a></li><li><a href="/demos/eRestaurant/linq/frontDesk/reservations.html" class="sidebar-link">LinqPad - Querying Reservations</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/reservations.html" class="sidebar-link">Displaying Reservations</a></li><li><a href="/demos/eRestaurant/linq/frontDesk/occupiedTables.html" class="sidebar-link">LinqPad - Querying Occupied Tables</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/occupiedTables.html" class="sidebar-link">Occupied Tables</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/bootstrapStyle.html" class="sidebar-link">Styling the Front Desk</a></li><li><a href="/demos/eRestaurant/businessRules/businessRuleException.html" class="sidebar-link">Business Rule Violations</a></li><li><a href="/demos/eRestaurant/businessRules/frontDesk/seatingWalkIns.html" class="sidebar-link">Seating Walk-Ins</a></li><li><a href="/demos/eRestaurant/businessRules/frontDesk/seatingReservations.html" class="sidebar-link">Seating Reservations</a></li><li><a href="/demos/eRestaurant/aspNet/userControls/fakeDateTime.html" class="sidebar-link">Fake DateTime</a></li><li><a href="/demos/eRestaurant/aspNet/frontDesk/queryString.html" class="sidebar-link">Serving Tables</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frontdesk-refactoring-the-occupied-tables-display-template-fields-asp-panels-and-bootstrap"><a href="#frontdesk-refactoring-the-occupied-tables-display-template-fields-asp-panels-and-bootstrap" class="header-anchor">#</a> FrontDesk - Refactoring the Occupied Tables display (Template fields, asp:Panels, and Bootstrap)</h1> <p>Now that the raw data is available to our page, it is time to refactor the markup to improve the presentation of the data. As you work on rafactoring the display, be sure to frequently view the page in the browser to ensure you are getting the look you want.</p> <ul><li>Add a DTO/POCO class to represent a waiter on duty.</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WaiterOnDuty</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> WaiterId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">string</span> FullName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Add a method on the BLL's OrderController to get a list of waiters (these should be waiters that are still employed)</li></ul> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token comment">/// &lt;summary&gt;</span>
<span class="token comment">/// ListWaiters returns the id and full name of all the current waiters</span>
<span class="token comment">/// &lt;/summary&gt;</span>
<span class="token comment">/// &lt;returns&gt;&lt;/returns&gt;</span>
<span class="token punctuation">[</span><span class="token class-name">DataObjectMethod</span><span class="token punctuation">(</span>DataObjectMethodType<span class="token punctuation">.</span>Select<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> List<span class="token operator">&lt;</span>WaiterOnDuty<span class="token operator">&gt;</span> <span class="token function">ListWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestaurantContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">from</span> person <span class="token keyword">in</span> context<span class="token punctuation">.</span><span class="token class-name">Waiters</span>
                        <span class="token keyword">where</span> person<span class="token punctuation">.</span>ReleaseDate <span class="token operator">==</span> <span class="token keyword">null</span>
                        <span class="token keyword">select</span> <span class="token keyword">new</span> <span class="token class-name">WaiterOnDuty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            WaiterId <span class="token operator">=</span> person<span class="token punctuation">.</span>WaiterID<span class="token punctuation">,</span>
                            FullName <span class="token operator">=</span> person<span class="token punctuation">.</span>FirstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>LastName
                        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Add to the FrontDesk.aspx  an ObjectDataSourceconfigured to get the list of active waiters.</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ObjectDataSource</span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WaitersDataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">OldValuesParameterFormatString</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>original_{0}<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">SelectMethod</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ListWaiters<span class="token punctuation">&quot;</span></span> <span class="token attr-name">TypeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eRestaurant.BLL.OrderController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ObjectDataSource</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>Modify the GridView to use a TemplateField instead of BoundFields for the columns. The TemplateField makes use of <code>&lt;asp:Panel&gt;</code> controls to contain content that is shown conditionally, depending on whether the seat is currently occupied or not. If the seat is available, show a form that allows the host to seat walk-in customers. If the seat is occupied, show the details for that table's occupancy. Also apply Bootstrap styles for table and form elements.
<ul><li>The following markup includes Boostrap-specific styling. Also, when developing the GridView, begin by letting Visual Studio generate the BoundFields for the GridView. Then, view the results in the browser and, piece by piece, replace some of the BoundFields with the presentation in the TemplateField.</li> <li>When working with DataBound controls such as the GridView, you can set the control's <code>Itemtype</code> property to the fully-qualified name of the DTO/POCO class that you are displaying in the control.</li></ul></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col-md-7<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span> <span class="token attr-name">open</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>Tables<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>well<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This GridView uses a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>TemplateField</span> <span class="token attr-name">…</span><span class="token punctuation">&gt;</span></span> for the table number and the controls to handle walk-in seating. Additionally, the walk-in seating form is in a panel that only shows if the seat is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>not<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span> taken. Handling of the action to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>seat customers<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> is done in the code-behind, on the GridView's <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>OnSelectedIndexChanging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span> event.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            .inline-div {
                display: inline;
            }
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>GridView</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SeatingGridView<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">AutoGenerateColumns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>False<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>table table-hover table-striped table-condensed<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">DataSourceID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SeatingObjectDataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ItemType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eRestaurant.Entities.DTOs.SeatingSummary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Columns</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>CheckBoxField</span> <span class="token attr-name">DataField</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Taken<span class="token punctuation">&quot;</span></span> <span class="token attr-name">HeaderText</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Taken<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SortExpression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Taken<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ItemStyle-HorizontalAlign</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>CheckBoxField</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>TemplateField</span> <span class="token attr-name">HeaderText</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Table<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SortExpression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Table<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ItemStyle-HorizontalAlign</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Label</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>TableNumber<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# Item.Table %&gt;<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>TemplateField</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>BoundField</span> <span class="token attr-name">DataField</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Seating<span class="token punctuation">&quot;</span></span> <span class="token attr-name">HeaderText</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Seating<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SortExpression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Seating<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ItemStyle-HorizontalAlign</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>BoundField</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>TemplateField</span> <span class="token attr-name">HeaderText</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Reservation Notes / Seat Walk-In<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Panel</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WalkInSeatingPanel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input-group input-group-sm<span class="token punctuation">&quot;</span></span>
                                <span class="token attr-name">Visible</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# !Item.Taken %&gt;<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>TextBox</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>NumberInParty<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form-control col-md-1<span class="token punctuation">&quot;</span></span>
                                    <span class="token attr-name">TextMode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span># people<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>TextBox</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input-group-addon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>DropDownList</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WaiterList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span>
                                        <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>selectpicker<span class="token punctuation">&quot;</span></span>
                                        <span class="token attr-name">AppendDataBoundItems</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">DataSourceID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WaitersDataSource<span class="token punctuation">&quot;</span></span>
                                        <span class="token attr-name">DataTextField</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>FullName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">DataValueField</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WaiterId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ListItem</span> <span class="token attr-name">Value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>[select a waiter]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ListItem</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>DropDownList</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input-group-addon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width:5px;padding:0;border:0;background-color:white;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>LinkButton</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>LinkButton1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Seat Customers<span class="token punctuation">&quot;</span></span>
                                <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>input-group-btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">CommandName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Select<span class="token punctuation">&quot;</span></span> <span class="token attr-name">CausesValidation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>False<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Panel</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Panel</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>OccupiedTablePanel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span>
                                <span class="token attr-name">Visible</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# Item.Taken  %&gt;<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
                            &lt;%# Item.Waiter %&gt;
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Label</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ReservationNameLabel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> 
                                    <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# &quot;<span class="token entity" title="&amp;mdash;">&amp;mdash;</span>&quot; + Item.ReservationName %&gt;<span class="token punctuation">'</span></span>
                                    <span class="token attr-name">Visible</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# !string.IsNullOrEmpty(Item.ReservationName) %&gt;<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Panel</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>BillInfo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">CssClass</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inline-div<span class="token punctuation">&quot;</span></span>
                                    <span class="token attr-name">Visible</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# Item.BillTotal.HasValue &amp;&amp; Item.BillTotal.Value &gt; 0 %&gt;<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Label</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Label1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>&lt;%# string.Format(&quot; <span class="token entity" title="&amp;ndash;">&amp;ndash;</span> {0:C}&quot;, Item.BillTotal) %&gt;<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Panel</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Panel</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>TemplateField</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Columns</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>GridView</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ObjectDataSource</span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SeatingObjectDataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">OldValuesParameterFormatString</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>original_{0}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SelectMethod</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SeatingByDateTime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">TypeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eRestaurant.BLL.SeatingController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SelectParameters</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ControlParameter</span> <span class="token attr-name">ControlID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SearchDate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">PropertyName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>DateTime<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ControlParameter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ControlParameter</span> <span class="token attr-name">ControlID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>SearchTime<span class="token punctuation">&quot;</span></span> <span class="token attr-name">PropertyName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">DbType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Time<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ControlParameter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SelectParameters</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ObjectDataSource</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="sample-demo"><a href="#sample-demo" class="header-anchor">#</a> Sample/Demo</h2> <p>Estimated time to complete this demo is 7 minutes.</p> <p>The following steps demonstrate how to use a Repeater control in a web form.</p> <ol><li>First of all, you need a source of menu items to load on a page. To serve these, create a class in the BLL that will get all the menu items, eagerly loading the category information. (Eager loading is performed using the <code>Include()</code> method of the <code>DbSet&lt;T&gt;</code> class.)</li></ol> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">DataObject</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MenuController</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token class-name">DataObjectMethod</span><span class="token punctuation">(</span>DataObjectMethodType<span class="token punctuation">.</span>Select<span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Item<span class="token operator">&gt;</span> <span class="token function">ListMenuItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestaurantContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Note: To use the Lambda or Method style of Include, you need to use System.Data.Entity</span>
            <span class="token keyword">return</span> context<span class="token punctuation">.</span>Items<span class="token punctuation">.</span><span class="token function">Include</span><span class="token punctuation">(</span>it <span class="token operator">=&gt;</span> it<span class="token punctuation">.</span>Category<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Next, in the MenuItems.aspx page, add a repeater and give it the ID of MenuRepeater.</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Repeater</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MenuRepeater<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Repeater</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>Add an ObjectDataSource control to your page, referencing it in your repeater control.</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>Repeater</span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MenuRepeater<span class="token punctuation">&quot;</span></span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">DataSourceID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MenuDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>Repeater</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">asp:</span>ObjectDataSource</span> <span class="token attr-name">runat</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>server<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ID</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>MenuDataSource<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">OldValuesParameterFormatString</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>original_{0}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">SelectMethod</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ListMenuItems<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">TypeName</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eRestaurant.BLL.MenuController<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">asp:</span>ObjectDataSource</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>Add an ItemTemplate to display the menu data. Note that there is no need to use labels or any other ASP.NET controls as containers, since the information on this page is for display only. Notice that in binding to the <code>Item</code> entity, we can &quot;drill&quot; into the <code>Category</code> property because this information was eagerly loaded in the BLL.</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
        &lt;%# ((decimal)Eval(&quot;CurrentPrice&quot;)).ToString(&quot;C&quot;) %&gt; 
        <span class="token entity" title="&amp;mdash;">&amp;mdash;</span> &lt;%# Eval(&quot;Description&quot;) %&gt; <span class="token entity" title="&amp;ndash;">&amp;ndash;</span> &lt;%# Eval(&quot;Category.Description&quot;) %&gt; 
        <span class="token entity" title="&amp;ndash;">&amp;ndash;</span> &lt;%# Eval(&quot;Calories&quot;) %&gt; Calories
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemTemplate</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="5"><li>Add a SeparatorTemplate and embed an <code>&lt;hr /&gt;</code> tag.</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/3/2019, 4:06:28 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/demos/eRestaurant/aspNet/frontDesk/adminSpecialEvents.html" class="prev">Special Events - PL</a></span> <span class="next"><a href="/demos/eRestaurant/reports/reportViewer/">eRestaurant - Reporting Basics</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.e5b4b78b.js" defer></script><script src="/assets/js/2.c12f21cf.js" defer></script><script src="/assets/js/64.5b338836.js" defer></script><script src="/assets/js/30.6955286a.js" defer></script>
  </body>
</html>
