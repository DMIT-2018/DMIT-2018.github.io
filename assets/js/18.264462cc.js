(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{272:function(t,a){t.exports="data:image/png;base64,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"},273:function(t,a,s){t.exports=s.p+"assets/img/BloggingDB-ERD.b0659442.png"},479:function(t,a,s){"use strict";s.r(a);var n=s(22),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"entity-framework"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#entity-framework","aria-hidden":"true"}},[t._v("#")]),t._v(" Entity Framework")]),t._v(" "),n("p",[t._v("Entity Framework (EF) is an ORM solution from Microsoft that makes querying and modifying database data very simple. The Entity Framework (currently at version 6.1) can be added to your Visual Studio solution through NuGet. (In VS2013, EF is installed as part of the template for ASP.Net Web Forms web sites.)")]),t._v(" "),n("p",[t._v("There are certain terms that come up when using Entity Framework. Here are some definitions that can get you started.")]),t._v(" "),n("p",[t._v("Entity\n~ An Entity is simply a class that is designed to hold data from one row in a database table. One key characteristic of entities is that they have a property for every column in the corresponding database table.")]),t._v(" "),n("p",[t._v('Navigation Property\n~ Database tables have relationships, and those can be modelled in Entity Framework through the use of Navigation Properties. A navigation property is simply a property on the entity class that represents a single instance ("to-one" relationship) or a collection of instances ("to-many" relationship) of some other entity.')]),t._v(" "),n("p",[t._v("Database Context\n~ A database context class is a class that inherits from "),n("code",[t._v("DbContext")]),t._v(". The database context identifies properties for each entity that is being mapped to a database table. Each property is a "),n("code",[t._v("DbSet<T>")]),t._v(" instance, where the "),n("code",[t._v("<T>")]),t._v(" is an entity. The "),n("code",[t._v("DbContext")]),t._v(" base class along with "),n("code",[t._v("DbSet<T>")]),t._v(" give us all the built-in functionality needed to perform CRUD operations on the database.")]),t._v(" "),n("p",[t._v("Model\n~ This term refers to the set of entities (and their relationships) that belong to a database context. The term is also used at times to refer specifically to an "),n("code",[t._v(".edmx")]),t._v(' file that can be used to visually "draw" the entities and their relationships. In a code-first context, this term simply refers to the entities and their relationships.')]),t._v(" "),n("p",[t._v("Code-First\n~ An approach to using the Entity Framework where entity and database context classes are coded directly, rather than being auto-generated based on an "),n("code",[t._v(".edmx")]),t._v(" file.")]),t._v(" "),n("p",[t._v("Model-First\n~ An approach to using the Entity Framework that emphasizes a visual representation of entities and their relationships. The model-first makes use of an XML file ("),n("code",[t._v(".edmx")]),t._v(') that Visual Studio uses to "draw" the model in a manner similar to an ERD along with definition template ('),n("code",[t._v(".dt")]),t._v(") files to auto-generate the actual entity and database context classes.")]),t._v(" "),n("p",[t._v("Conceptually, Entity Framework is designed around a class-per-database-table approach. That is, for every database table that you want to model in your application, you code a corresponding class (known as an Entity).")]),t._v(" "),n("p",[t._v("Along with the entity classes, you application will need a class to serve the core functionality of the DAL. This class is your Database Context, and it must inherit from the "),n("code",[t._v("DbContext")]),t._v(" class in the Entity Framework.")]),t._v(" "),n("p",[t._v("Part of the power of the Entity Framework is that it can be used with or without an existing database. If the database does not exist, then it can be automatically created from your model when you run your application. Additionally, Entity Framework supports the idea of Migrations, which can be very helpful when dealing with a database model that changes over time.")]),t._v(" "),n("p",[t._v("Visual Studio supports two approaches to working with Entity Framework - Code-First and Model-First. Combined with the fact that EF can work with or without a database, that means that there are four distinct ways that you can develop your application with Entity Framework. In this course, our emphasis will be to use a Code-First approach, and although we are using an existing database, we will not be using Visual Studio's capacity to auto-generate the entity and DbContext classes based on the database.")]),t._v(" "),n("p",[t._v("There are various online resources on "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-US/data/ee712907",target:"_blank",rel:"noopener noreferrer"}},[t._v("getting started"),n("OutboundLink")],1),t._v(" with Entity Framework that are available through "),n("a",{attrs:{href:"http://www.asp.net/entity-framework",target:"_blank",rel:"noopener noreferrer"}},[t._v("ASP.Net"),n("OutboundLink")],1),t._v(". In the discussion below, we will use and expand upon the Blog and Post example that is demonstrated in the tutorials "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj193542",target:"_blank",rel:"noopener noreferrer"}},[t._v('"Code First to a New Database"'),n("OutboundLink")],1),t._v(" and "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj200620",target:"_blank",rel:"noopener noreferrer"}},[t._v('"Code First to an Existing Database"'),n("OutboundLink")],1),t._v(". The following ERD shows the database tables used in this discussion.")]),t._v(" "),n("p",[n("img",{attrs:{src:s(273),alt:"Blogging ERD"}})]),t._v(" "),n("h2",{attrs:{id:"coding-entities"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#coding-entities","aria-hidden":"true"}},[t._v("#")]),t._v(" Coding Entities")]),t._v(" "),n("p",[t._v("Coding an entity is fairly straight-forward. Simply create a class to correspond to a database table, and create a property for each column in the database table.")]),t._v(" "),n("p",[t._v("Entity Framework employes a "),n("a",{attrs:{href:"http://en.wikipedia.org/wiki/Convention_over_configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("Convention over Configuration"),n("OutboundLink")],1),t._v(" approach (see "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj679962",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code First Conventions"),n("OutboundLink")],1),t._v("). These conventions can be overridden or extended with your own "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj819164.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("custom conventions"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("The configurations are used by Entity Framework to provide mappings between database tables and entities. There are various ways to provide custom mappings. One such way is shown in the article "),n("a",{attrs:{href:"http://dotnet.dzone.com/articles/entity-framework-5-first-steps",target:"_blank",rel:"noopener noreferrer"}},[t._v("Entity Framework 5 First Steps"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("Entity Framework employs certain "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj679962",target:"_blank",rel:"noopener noreferrer"}},[t._v("conventions"),n("OutboundLink")],1),t._v(" that simplify the process of doing code-first development. One of those has to do with the property names on our entity: As long as the property name matches the name of the column in the database table, EF will map to it by default. For example, the Blog entity below maps to the Blogs table.")]),t._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Blog")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" BlogId "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Name "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Url "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Another convention has to do with modelling primary keys. If your entity has a property with either the name "),n("code",[t._v("ID")]),t._v(' or the same name as the class and a suffix of "Id", then EF will assume that property to be mapping to a primary key in the database table. If the property that is supposed to map to a primary doesn\'t follow this convention, then you will need to use the '),n("code",[t._v("[Key]")]),t._v(' attribute to mark it as the entity\'s primary key. (See more on "Using Attributes" below)')]),t._v(" "),n("p",[t._v("Relationships between entities can also be modelled using properties. In these scenarios, they are referred to as Navigational Properties. It is a good practice to mark these properties with the "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/library/9fkccyh4.aspx",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("virtual")]),n("OutboundLink")],1),t._v(" modifier, which allows collections to be lazy-loaded and makes change-tracking more efficient (see "),n("a",{attrs:{href:"http://stackoverflow.com/a/5599270/2154662",target:"_blank",rel:"noopener noreferrer"}},[t._v("this SO comment"),n("OutboundLink")],1),t._v("). The following code samples show the Blog and Post entities with their navigational properties.")]),t._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Blog")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" BlogId "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Name "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Url "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("virtual")]),t._v(" ICollection"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Post"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Posts "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Post")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" PostId "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Title "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Content "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" BlogId "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("virtual")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Blog")]),t._v(" Blog "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"using-attributes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#using-attributes","aria-hidden":"true"}},[t._v("#")]),t._v(" Using Attributes")]),t._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("Table")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Speaker"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TABLENAME"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Speaker")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("BaseModel")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("String")]),t._v(" TABLENAME "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Speaker"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("Key")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("DatabaseGenerated")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("DatabaseGeneratedOption"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Identity"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Guid")]),t._v(" Id "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("Required")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("MaxLength")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("50")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrorMessage "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Name must be 50 characters or less"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Name "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v('There are a number of C# attributes that can be applied to the properties of an entity to help describe how it models the database table ("schema" attributes) and how it should perform validation (effectively mirroring simple CHECK constraints in SQL). Validation attributes are checked when the '),n("code",[t._v(".SaveChanges()")]),t._v(" method is called on your database context class. The validation attributes can also be used to help support the user interface in web applications; when used this way, it is often helpful to specify an (optional) error message for the end-user. Entity attributes are discussed in more detail in the "),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/data/jj591583",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code First Data Annotations"),n("OutboundLink")],1),t._v(" documentation on MSDN, but here are some of the more commonly used annotations.")]),t._v(" "),n("p",[n("code",[t._v("[Key]")]),t._v("\n~ Identifies the property as representing the Primary Key in the database. Can be used with the "),n("code",[t._v("[Column]")]),t._v(" attribute")]),t._v(" "),n("p",[n("code",[t._v("[Column]")]),t._v("\n~ Used with the "),n("code",[t._v("[Key]")]),t._v(" attribute to specify the order of columns when mapping against a composite key in the database table.")]),t._v(" "),n("p",[n("code",[t._v("[DatabaseGenerated]")]),t._v('\n~ Identifies the property as having a value that is controlled by the database (and therefore, not a value that should be "saved" into the corresponding column). This attribute takes a single '),n("a",{attrs:{href:"http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.schema.databasegeneratedoption(v=vs.110).aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("DatabaseGeneratedOption"),n("OutboundLink")],1),t._v(" value:\n~ "),n("code",[t._v("Computed")]),t._v(" - The database generates a value when a row is inserted or updated.\n~ "),n("code",[t._v("Identity")]),t._v(" - The database generates a value when a row is inserted.\n~ "),n("code",[t._v("None")]),t._v(" - The database does not generate values.")]),t._v(" "),n("p",[n("code",[t._v("[NotMapped]")]),t._v("\n~ Identifies that the property in your entity does not have a corresponding column in the database table. This is useful when you want to create a property whose value is derived from other properties, such as a "),n("code",[t._v("FullName")]),t._v(" that is a concatenation of the first and last name.")]),t._v(" "),n("p",[n("code",[t._v("[ForeignKey]")]),t._v("\n~ Identifies the property as acting as a foreign key to another entity/table.")]),t._v(" "),n("p",[n("code",[t._v("[Index]")]),t._v("\n~ TBA")]),t._v(" "),n("p",[n("code",[t._v("[Required]")]),t._v("\n~ (Validation attribute) TBA")]),t._v(" "),n("p",[n("code",[t._v("[Range]")]),t._v("\n~ (Validation attribute) TBA")]),t._v(" "),n("p",[n("code",[t._v("[StringLength]")]),t._v("\n~ (Validation attribute) TBA")]),t._v(" "),n("p",[n("code",[t._v("[MaxLength]")]),t._v("\n~ (Validation attribute) TBA")]),t._v(" "),n("p",[n("code",[t._v("[Table]")]),t._v("\n~ TBA")]),t._v(" "),n("h2",{attrs:{id:"database-context"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#database-context","aria-hidden":"true"}},[t._v("#")]),t._v(" Database Context")]),t._v(" "),n("p",[t._v("For the DAL of your application, create a class that inherits from Entity Framework's "),n("code",[t._v("DbContext")]),t._v(" class and add a "),n("code",[t._v("DbSet")]),t._v(" property for each table that you want to map an entity to. The "),n("code",[t._v("DbContext")]),t._v(" class has a method called "),n("code",[t._v("OnModelCreating")]),t._v(" that you can override to provide additional instructions for mapping entities to the underlying database as well as to over-ride default naming conventions (as in the following sample where the "),n("code",[t._v("User")]),t._v(" class maps its "),n("code",[t._v("DisplayName")]),t._v(" property to a column named "),n("code",[t._v("display_name")]),t._v(".)")]),t._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("using")]),t._v(" System"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Data"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Entity"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("BloggingContext")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("DbContext")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// System.Data.Entity.DbContext")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Blog"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Blogs "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Post"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Posts "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("User"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Users "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("OnModelCreating")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token class-name"}},[t._v("DbModelBuilder")]),t._v(" modelBuilder"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        modelBuilder"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token generic-method"}},[n("span",{attrs:{class:"token function"}},[t._v("Entity")]),n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{attrs:{class:"token class-name"}},[t._v("User")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("Property")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" u"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DisplayName"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("HasColumnName")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"display_name"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:s(272),alt:"Database ERD - Users Table"}})]),t._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("User")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("Key")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Username "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" DisplayName "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"web-config-and-entity-framework"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-config-and-entity-framework","aria-hidden":"true"}},[t._v("#")]),t._v(" web.config and Entity Framework")]),t._v(" "),n("p",[t._v("The web.config of your website will have custom settings for Entity Framework. One of the important settings you should add has to do with turning off database initialization for your database context. The following example turns off database initialization for the "),n("code",[t._v("BloggingContext")]),t._v(". Note that in the element "),n("code",[t._v('<context type="BlogDemo.BloggingContext, BlogDemo" disableDatabaseInitialization="true" />')]),t._v(", the type is a string with the fully-qualified class name followed by a command and then the name of the assembly.")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("contexts")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("context")]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("BlogDemo.BloggingContext, BlogDemo"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("disableDatabaseInitialization")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("contexts")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("This element should be placed inside the "),n("code",[t._v("<entityFramework>")]),t._v(" element.")]),t._v(" "),n("p",[t._v('Another customization you can do between your database context and the web.config is to specify a connection string for your database context. For example, if your web.config has a connection string named "MyBlog", you would have your database context\'s constructor call the base class with a string that follows the pattern "name=MyBlog".')]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("add")]),t._v(" "),n("span",{attrs:{class:"token attr-name"}},[t._v("name")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("MyBlog"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n     "),n("span",{attrs:{class:"token attr-name"}},[t._v("connectionString")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Data Source=.;Initial Catalog=BloggingDB;Integrated Security=true;"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n     "),n("span",{attrs:{class:"token attr-name"}},[t._v("providerName")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("System.Data.SqlClient"),n("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("BloggingContext")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("DbContext")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("BloggingContext")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("base")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"name=MyBlog"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Blog"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Blogs "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("Post"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Posts "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" DbSet"),n("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("User"),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" Users "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("OnModelCreating")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token class-name"}},[t._v("DbModelBuilder")]),t._v(" modelBuilder"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        modelBuilder"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token generic-method"}},[n("span",{attrs:{class:"token function"}},[t._v("Entity")]),n("span",{attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{attrs:{class:"token class-name"}},[t._v("User")]),n("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("Property")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("u "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" u"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DisplayName"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("HasColumnName")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"display_name"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("User")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token class-name"}},[t._v("Key")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" Username "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("string")]),t._v(" DisplayName "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])},[],!1,null,null,null);a.default=e.exports}}]);